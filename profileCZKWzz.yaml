# https://gist.githubusercontent.com/snazy/5c9d285c1b421e863c92/raw/9d476eaf532c6b21369f7f2e5ced8293aa366b79/9738-500k.yaml
keyspace: stresscql

keyspace_definition: |
  CREATE KEYSPACE stresscql WITH replication = {'class': 'SimpleStrategy', 'replication_factor': 2};

table: c9738test

table_definition: |
  CREATE TABLE c9738test (
        name text,
        discr1 text,
        discr2 text,
        dt timestamp,
        address inet,
        dbl double,
        lval bigint,
        ival int,
        uid timeuuid,
        value blob,
        PRIMARY KEY ( (name), discr1, discr2 )
  )
    WITH compaction = { 'class':'LeveledCompactionStrategy' }

columnspec:
  - name: name
    size: uniform(20..30)
    population: gaussian(1..50)
  - name: discr1
    size: uniform(30..250)
    population: gaussian(1..500)
  - name: discr2
    size: uniform(30..250)
    population: gaussian(1..1000)
  - name: value
    size: uniform(200..1k)

insert:
  partitions: fixed(1)
  batchtype: UNLOGGED
  select: uniform(1..10)/10

queries:
   query:
      cql: select * from c9738test where name = ? and discr1 = ? LIMIT 100
      fields: samerow
