# https://gist.githubusercontent.com/tjake/3186dec175b015d9f5b9/raw/eccae4b49a8a5eebb970ff29757eaf9549033f83/legacy.yaml
### DML ###

# Keyspace Name
keyspace: stresscql

# The CQL for creating a keyspace (optional if it already exists)
keyspace_definition: |
  CREATE KEYSPACE stresscql WITH replication = {'class': 'SimpleStrategy', 'replication_factor': 1};

# Table name
table: legacy

# The CQL for creating a table you wish to stress (optional if it already exists)
table_definition: |
  CREATE TABLE legacy (
         pkey blob primary key,
         c0 blob,
         c1 blob,
         c2 blob,
         c3 blob,
         c4 blob) WITH compression = {'sstable_compression':''};

### Column Distribution Specifications ###
columnspec:
  - name: pkey
    size: fixed(10)       
  - name: c0
    size: fixed(34)
  - name: c1
    size: fixed(34)
  - name: c2
    size: fixed(34)
  - name: c3
    size: fixed(34)
  - name: c4
    size: fixed(34)
 
### Batch Ratio Distribution Specifications ###
insert:
  partitions: fixed(1)            # Our partition key is the domain so only insert one per batch
  select:    fixed(1)/1           #one row per batch
  batchtype: UNLOGGED             # Unlogged batches


#
# A list of queries you wish to run against the schema
#
queries:
   query:
      cql: select * from legacy where pkey = ? LIMIT 1 
      fields: samerow
